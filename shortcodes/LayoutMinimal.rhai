fn template(context, props, content) {
  if context.is_watching {
    context.assets.add("resources/ts/global-live-reload.ts");
  }

  context.assets.add("resources/css/layout-common.css");

  component {
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <link rel="canonical" href={context.reference.canonical_link}>
        <link rel="icon" href={context.assets.file("resources/media/favicon.svg")}>

        <meta charset="UTF-8">
        {if !context.front_matter.description.is_empty() {
          component {
            <meta name="description" content={context.front_matter.description}>
          }
        }}
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta property="og:image" content={context.assets.file("resources/media/og-image.png")}>
        <meta property="og:type" content="website">
        <meta property="og:url" content={context.reference.canonical_link}>

        <title>{
          let base_title = "Paddler";

          if context.front_matter.title.is_empty() {
            base_title
          } else {
            `${context.front_matter.title} - ${base_title}`
          }
        }</title>
        {context.assets.render()}
      </head>
      <body>
        <div class="page">
          <nav class="primary-navigation">
            <div class="primary-navigation__group primary-navigation__group--logo">
              <a href={context.link_to("index")} class="primary-navigation__link primary-navigation__link--logo">
                Paddler üèì
              </a>
            </div>
            <div class="primary-navigation__group-wrapper">
              <div class="primary-navigation__group">
                <a
                  href={context.link_to("#docs-initial-page")}
                  class={clsx(#{
                    "primary-navigation__link": true,
                    "primary-navigation__link--active": context.belongs_to("documentation_pages"),
                  })}
                >
                  Docs
                </a>
              </div>
              <div class="primary-navigation__group">
                <a
                  href={context.link_to("api/introduction/using-paddler-api")}
                  class={clsx(#{
                    "primary-navigation__link": true,
                    "primary-navigation__link--active": context.belongs_to("api_pages"),
                  })}
                >
                  API
                </a>
              </div>
              <div class="primary-navigation__group">
                <a
                  href={context.link_to("businesses")}
                  class={clsx(#{
                    "primary-navigation__link": true,
                    "primary-navigation__link--active": context.is_current_page("businesses"),
                  })}
                >
                  Businesses
                </a>
              </div>
              <div class="primary-navigation__group">
                <a
                  href="https://github.com/intentee/paddler"
                  class="primary-navigation__link"
                  target="_blank"
                >
                  <img alt="GitHub" src={context.assets.file("resources/media/logo-github.svg")}>
                </a>
              </div>
            </div>
          </nav>
          <main class="primary-main">
            {content}
          </main>
          <footer class="footer">
            <p>
              Made with ‚ù§Ô∏è by <a href="https://intentee.com" target="_blank">Intentee</a> and contributors.
            </p>
            <div class="footer__links">
              <a
                class="footer__links__link"
                href="https://bsky.app/profile/intentee.bsky.social"
                target="_blank"
              >
                <img alt="Bluesky" src={context.assets.file("resources/media/logo-bluesky.svg")}>
              </a>
              <a
                class="footer__links__link"
                href="https://discord.gg/92x3Z8a4gj"
                target="_blank"
              >
                <img alt="Discord" src={context.assets.file("resources/media/logo-discord.svg")}>
              </a>
              <a
                class="footer__links__link"
                href="https://www.linkedin.com/company/intentee"
                target="_blank"
              >
                <img alt="LinkedIn" src={context.assets.file("resources/media/logo-linkedin.svg")}>
              </a>
              <a
                class="footer__links__link"
                href="https://x.com/intentee"
                target="_blank"
              >
                <img alt="X" src={context.assets.file("resources/media/logo-x.svg")}>
              </a>
            </div>
          </footer>
        </div>
      </body>
    </html>
  }
}
